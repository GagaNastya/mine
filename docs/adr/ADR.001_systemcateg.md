# ADR.001 Категория системы ACID база данных СP
<!-- Название ADR состоит из [ADR.###] [Коротко суть принятого решения] -->

* Статус: Предложено
* Владелец: gagarskaya.aa@gmail.com

## Контекст
<!-- Описание проблемы, требующей решения, причин, побудивших принять решение, ограничений, действовавших на момент принятия решения -->
Для конференции helloconf.mts.ru требуется выбрать класс системы по теореме CAP, и определиться, какие принципы будут заложены: ACID или BASE, с учётом существующих нефункциональных требований (README.md)

## Варианты решения
## 1. ACID или BASЕ
### Вариант 1. ACID
* **Плюсы**
  * Согласованность данных и целостность во всех операциях, то есть пользователи всегда будут видеть корректное и актуальное раписание докладов.
* **Минусы**
  * Высокая нагрузка на сервер может привести к задержкам в обработке операций.
  * Не очень хорошо подходит для распределенных систем и масштабирования горизонтально, так как это может привести к увеличению количества блокировок и снижению производительности
### Вариант 2. BASE
* **Плюсы**
  * Cистема нацелена на непрерывную работу, даже при сбоях, благодаря широкому использованию репликации и кэширования данных.  
  * Возможность проектировать гибкие и масштабируемые системы, что особенно важно для приложений с большим количеством пользователей.
* **Минусы**
  * Система отвечает на любой запрос, но этот ответ может быть содержать ошибку или несогласованные данные.

## 2. База данных
### Вариант 1. База данных СА
<!-- Описание варианта 1 -->
* **Плюсы**
  * Высокая согласованность данных: все участники конференции будут иметь доступ к актуальной информации.
  * Высокая доступность сервиса: все участники смогут подключаться к конференции в любое время и получать актуальную информацию.
* **Минусы**
  * Все плюсы исчезают при большом потоке пользователей.
  * Невозможность масштабируемости при высокой нагрузке со стороны пользователей.
  * Система нераспределенная, отказоустойчивость не обеспечена, при отказе одного узла, доступа к системе не будет.

### Вариант 2. База данных АР
<!-- Описание варианта 2 -->
* **Плюсы**
  * Информация о докладах, программе конференции и т.д., будет доступной для пользователей в любое время, даже при сбоях в сети. 
* **Минусы**
  * Информация о докладах в расписании может не быть актуальной.
  * Некоторые доклады могут быть утеряны.
  * Программа конференции может не отображаться одинаково для всех пользователей.

### Вариант 3. База данных СР
<!-- Описание варианта 2 -->
* **Плюсы**
  * Данные всегда будут согласованны, пользователи будут видеть актуальное раписание докладов.
* **Минусы**
  * Пользователи не будут иметь доступа к расписанию конференции во время сбоя в сети.
  * Пользователи будут иметь плохое качество трансляции или даже её прерывание при плохом интернет соединении (т.е. низкая доступность).
  * Пользователи не смогут получить обратную связь в случае неполадок в заданный период 48 часов.


## Решение
<!-- Описание выбранного решения. Решение должно быть сформулировано чётко ("Мы используем...", "Мы не используем", а не "Желательно.." или "Предлагается..."). 
Должна быть понятна связь между решением и проблемой, почему выбрали именно это решение из вариантов -->
Мы используем ACID базу данных СА, которая гарантирует согласованность данных, но может быть недоступна в случае сбоя в сети.
Пояснение:
1. АР и BASE не подходят, так как для системы конференций критически важна согласованность данных.
2. Пояснение обоснованности выбора CA и ACID:
   
| Нефункциональное требование     | CA    | ACID        | 
|---------------------------------|-------|-------------|
|Система должна обеспечивать возможность одновременной обработки не менее 2 заявки на доклад в час, 48 заявок в день, 336 заявок в неделю|Высокая скорость обработки данных и быстрый доступ к ним при ограничении масштабов системы||
|Инструменты обратной связи должны быть доступны как минимум в течение 48 часов после получения уведомления о том, что доклад был отклонен|При ограничении доступа к базе данных возможен быстрый доступ к данным||
|Пропускная способность интернет-канала должна быть не менее 75 Мбит/с, а задержка при передаче не более 3 секунд|Быстрый доступ к данным и их быстрая обработка при ограничении масштабов системы, также стоит учитывать, что при наличии репликации данных задержки могут возникать при обновлении данных на всех узлах||
|Наличие не менее 2-х резервных серверов для трансляции|Возможность репликации данных|Обеспечение транзакционной согласованности и устойчивости к сбоям|

## Последствия
<!-- Положительные и отрицательные последствия (trade-offs). Арх. решения, которые потребуется принять как следствие принятого решения. Если решение содержит риски, то описано, как с ними планируют поступить (за счет чего снижать, почему принять). -->
### Последствия выбора ACID:
* **Положительные**:
  * Более высокая надежность: транзакции будут выполнены в полном объеме или не выполнены вообще.
* **Отрицательные**:
  * Более медленная производительность.
  * Более высокие затраты на обеспечение отказоустойчивости и мастабируемости.
### Последствия выбора CА:
* **Положительные**:
  * Высокая доступность и производительность, поскольку система может продолжать работать даже в случае отказа одного или нескольких узлов.
* **Отрицательные**:
  * Возможны проблемы при обработке транзакций и конфликтов при одновременном чрезмерном доступе к данным.


